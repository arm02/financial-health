<div class="dashboard-section">
  <div class="filter-card-container flex flex-justify-space-between gap-10 mb-10">
    <div
      class="card w-percent-100 md:w-percent-50 flex flex-col flex-items-flex-start flex-justify-flex-start"
    >
      <span class="dashboard-title pb-10 mb-10 w-percent-100">Hi, {{ user.fullname }}</span>
      <div class="w-percent-100">
        <span>Quick Action</span>
        <div class="w-percent-100 mt-10 flex gap-10">
          <button
            class="btn-primary w-percent-100"
            (click)="onQuickAction('transaction', 'simple')"
          >
            Create Simple Transaction
          </button>
        </div>
        <div class="w-percent-100 mt-10 flex gap-10">
          <button class="btn-primary w-percent-50" (click)="onQuickAction('transaction', 'normal')">
            Create Transaction
          </button>
          <button class="btn-danger w-percent-50" (click)="onQuickAction('expenses', 'simple')">
            Create Expenses
          </button>
        </div>
        <div class="w-percent-100 mt-10 flex gap-10">
          <button class="btn-primary w-percent-50" (click)="onQuickAction('savings', 'simple')">
            Create Savings
          </button>
          <button class="btn-danger w-percent-50" (click)="onQuickAction('loans', 'simple')">
            Create Loan
          </button>
        </div>
      </div>
    </div>
    <div class="card w-percent-100 md:w-percent-50 dashboard-header">
      <div class="form-group">
        <label> Start Date </label>
        <input type="date" name="start_date" [(ngModel)]="this.summaryParams.start_date" />
      </div>
      <div class="form-group">
        <label> End Date </label>
        <input type="date" name="end_date" [(ngModel)]="this.summaryParams.end_date" />
      </div>
      <div class="form-group pb-2 flex flex-justify-flex-end">
        <button class="btn-primary" (click)="GetDashboardData()">Search</button>
      </div>
    </div>
  </div>
  <div class="summary-card-container flex gap-10 w-percent-100">
    @if(loader()) {
    <div class="flex flex-items-center flex-justify-center w-percent-100 p-20">
      <loader class="loader" [visibility]="loader()"></loader>
    </div>
    } @else {
    <div class="card w-percent-100 card-outcome">
      <div class="card-header">
        <mat-icon>trending_down</mat-icon>
        <a class="link" routerLink="/transactions">See Detail</a>
      </div>
      <div class="info">
        <div class="label">Total Outcome</div>
        <div class="value">Rp{{ summary.total_outcome | number }}</div>
      </div>
    </div>

    <div class="card w-percent-100 card-income">
      <div class="card-header">
        <mat-icon>trending_up</mat-icon>
        <a class="link" routerLink="/transactions">See Detail</a>
      </div>
      <div class="info">
        <div class="label">Net Income</div>
        <div class="value">Rp{{ summary.total_income | number }}</div>
      </div>
    </div>

    <div class="card w-percent-100 card-expenses">
      <div class="card-header">
        <mat-icon>monetization_on</mat-icon>
        <a class="link" routerLink="/expenses">See Detail</a>
      </div>
      <div class="info">
        <div class="label">Total Expenses</div>
        <div class="value">Rp{{ summary.total_expenses | number }}</div>
      </div>
    </div>

    <div class="card w-percent-100 card-loans">
      <div class="card-header">
        <mat-icon>account_balance_wallet</mat-icon>
        <a class="link" routerLink="/loans">See Detail</a>
      </div>
      <div class="info">
        <div class="label">Total Loans</div>
        <div class="value">Rp{{ summary.total_loans | number }}</div>
      </div>
    </div>

    <div class="card w-percent-100 card-remaining">
      <div class="card-header">
        <mat-icon>pending_actions</mat-icon>
        <a class="link" routerLink="/loans">See Detail</a>
      </div>
      <div class="info">
        <div class="label">Remaining Loan</div>
        <div class="value">Rp{{ summary.total_remaining_loan | number }}</div>
      </div>
    </div>
    }
  </div>
  @if(loaderChart()) {
  <div class="flex flex-items-center flex-justify-center w-percent-100 p-20">
    <loader class="loader" [visibility]="loaderChart()"></loader>
  </div>
  } @else {
  <div class="dashboard-container">
    <div class="card w-percent-100">
      <div class="mb-20">Loan Graph</div>
      <app-bar-chart
        type="line"
        [colorUp]="'#dc2626'"
        [colorDown]="'#f59e0b'"
        [data]="chartSummary.loans"
      ></app-bar-chart>
    </div>
    <div class="card w-percent-100">
      <div class="mb-20">Income Graph</div>
      <app-bar-chart type="bar" [data]="chartSummary.income"></app-bar-chart>
    </div>
  </div>
  <div class="dashboard-container">
    <div class="card w-percent-100">
      <div class="mb-20">Outcome Graph</div>
      <app-bar-chart type="line" [data]="chartSummary.outcome"></app-bar-chart>
    </div>
  </div>

  }
</div>
